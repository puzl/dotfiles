#!/bin/bash

# polybar
if [[ ! -x ./polybar/build/bin/polybar ]]; then
    cd polybar
    git submodule init
    git submodule update
    rm -rf build
    mkdir build
    cd build
    cmake -DCMAKE_INSTALL_PREFIX=/usr/local .. && sudo make install
    cd ../..
fi
 
# i3-gaps
if [[ ! -x ./i3/build/i3 ]]; then
    cd i3
    git submodule init
    git submodule update
    autoreconf --force --install
    rm -rf build
    mkdir build
    cd build
    ../configure --prefix=/usr/local --sysconfdir=/etc
    make && sudo make install
    cd ../..
fi

# rofi
if [[ ! -x ./rofi/build/rofi ]]; then
    cd rofi
    git submodule init
    git submodule update
    autoreconf --force --install
    rm -rf build
    mkdir build
    cd build
    ../configure --prefix=/usr/local --sysconfdir=/etc --disable-check
    make
    sudo make install
fi
